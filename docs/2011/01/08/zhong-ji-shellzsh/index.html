<!DOCTYPE html>


  <html class="light page-home">


<head>
  <meta charset="utf-8">
  
  <title>终极Shell——Zsh | Dray&#39;s Home</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="zsh," />
  

  <meta name="description" content="[撰文/Kardinal] http://linuxtoy.org/archives/zsh.html 子曾经曰过，zsh: The last shell you’ll ever need! Z是最后一个字母，所以它是终极Shell。我曾经搜索到一个比较各种Shell的文章，Zsh交互性是A+级别的，远高于其它Shell。在编程方面，Zsh是A级的吧，也是最高的。只是不知道出于什么原因，Zsh被严">
<meta property="og:type" content="article">
<meta property="og:title" content="终极Shell——Zsh">
<meta property="og:url" content="http://idc.wf/2011/01/08/zhong-ji-shellzsh/index.html">
<meta property="og:site_name" content="Dray's Home">
<meta property="og:description" content="[撰文/Kardinal] http://linuxtoy.org/archives/zsh.html 子曾经曰过，zsh: The last shell you’ll ever need! Z是最后一个字母，所以它是终极Shell。我曾经搜索到一个比较各种Shell的文章，Zsh交互性是A+级别的，远高于其它Shell。在编程方面，Zsh是A级的吧，也是最高的。只是不知道出于什么原因，Zsh被严">
<meta property="og:updated_time" content="2017-03-09T08:13:10.978Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="终极Shell——Zsh">
<meta name="twitter:description" content="[撰文/Kardinal] http://linuxtoy.org/archives/zsh.html 子曾经曰过，zsh: The last shell you’ll ever need! Z是最后一个字母，所以它是终极Shell。我曾经搜索到一个比较各种Shell的文章，Zsh交互性是A+级别的，远高于其它Shell。在编程方面，Zsh是A级的吧，也是最高的。只是不知道出于什么原因，Zsh被严">

  

  
    <link rel="icon" href="/favicon.ico">
  

  <link href="/css/styles.css?v=32204ee7" rel="stylesheet">


  
    <link rel="stylesheet" href="/css/personal-style.css">
  

  

  

</head>

<body>

  
    <span id="toolbox-mobile" class="toolbox-mobile">盒子</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">盒子</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/category/"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tags/"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/link/"
            target="_self"
            >
            友链
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            target="_self"
            >
            关于
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="http://feeds.feedburner.com/WesHome"
            target="_blank"
            >
            RSS
          </a>
        </li>
      
    </ul>
  </div>


</div>




<div class="content content-post CENTER">
   <article id="post-zhong-ji-shellzsh" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">终极Shell——Zsh</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2011.01.08</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>Dray</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/category/linux/">linux</a>
  </span>



      
        <span>
          <i class="icon-comment"></i>
          <a href="http://idc.wf/2011/01/08/zhong-ji-shellzsh/#disqus_thread"></a>
        </span>
      

    </div>
  </header>

  <div class="article-content">
    
      <p>[撰文/Kardinal] <a href="http://linuxtoy.org/archives/zsh.html" target="_blank" rel="external">http://linuxtoy.org/archives/zsh.html</a> 子曾经曰过，zsh: The last shell you’ll ever need! Z是最后一个字母，所以它是终极Shell。我曾经搜索到一个比较各种Shell的文章，Zsh交互性是A+级别的，远高于其它Shell。在编程方面，Zsh是A级的吧，也是最高的。只是不知道出于什么原因，Zsh被严重的低估了。 大多数的linux用户比较偏爱Bash，因为大多数的发行版默认的就是它。平心而论，Bash确实比Csh之流的好用多了。不过Bash也有很多地方不尽人意，像自动补全的功能不够强大，定位较长路径不够方便等。 后来我使用Zsh。如果不调整一些必要的配置的话，Zsh甚至还不如Bash好用。这也是很多人尝试过并放弃过的原因。 Zsh配置文件试用 (内附讲解) 不熟悉Zsh的人，对Zsh最深刻的印象应该就是它的命令提示符了。它支持右侧对齐的提示符，并且可以配置成这个样子的：   不过我还是喜欢比较简单的样式。 Zsh的 自动补全功能 十分的强大，如图所示：   它可以自动补全命令、参数、文件名、进程、用户名、变量、权限符等。 Zsh还有一个贴心的功能： 路径别名 。假设有一个很长的路径，例如/home/lighttpd/html，可以把这个路径命名为 ~WWW。   Zsh可以使用 Emacs风格的键绑定 ，习惯Bash键绑定的朋友无需重新适应。Zsh兼容大多数主流Shell，像Bash、Csh等。 错误校正  – directory – 是补全类型提示</p>
<p>/etc/x11 [tab] 后被修正为 /etc/X11<br>补全类型提示变成了 – corrections –</p>
<p>请注意，这个功能不是单纯的修正大小写，而是各种拼写错误 比如说上面的例子，如果输入的是11或者s11，它一样会修正为X11<br>有一个前提，就是每次修正，只允许有一处字符错误 两个以上的错误，除非可以匹配其它的选项，否则就不能修正 12 就不能修正为X11 ，除非候选里有 X12、Y12、Z12……</p>
<p>在配置文件里找到这一行，修改容错字数<br>zstyle ‘:completion: :approximate: ‘ max-errors 1 numeric<br>当然可以把容错字数改大一些，不过太大了也没有意义了 随便输点什么，就可以匹配所有的，和没有一样</p>
<p>强大的重定向功能<br>同时重定向stdout和stderr到file: command |&amp; &gt;file 同时重定向到多个文件: command &gt;file.1 &gt;file.2<br>比如装系统的时候，可以用这个命令</p>
<p>blkid &gt;&gt; /boot/grub/menu.lst &gt;&gt; /etc/fstab</p>
<p>补全类型控制<br>例如： compctl -g ‘ .tar.gz <em>.gz .tgz’ + -g ‘</em>(-/)’ tar zxvf 过滤候选项<br>tar zxvf [tab] 候选菜单中只出现扩展名为 .tar.gz .gz .tgz 的文件不过这个功能比较复杂，容易引起混乱，通常需要脚本配合</p>
<p>代码:<br>compctl -g ‘ .tar.bz2 <em>.tar.gz </em>.bz2 <em>.gz </em>.jar <em>.rar </em>.tar <em>.tbz2 </em>.tgz <em>.zip </em>.Z’ + -g ‘ (-/)’ extractextract() {    if [[ -z “$1” ]] ; then        print -P “usage: \e[1;36mextract\e[1;0m &lt; filename &gt; “        print -P “       Extract the file specified based on the extension”    elif [[ -f $1 ]] ; then        case ${(L)1} in .tar.bz2)  tar -jxvf $1    ;; .tar.gz)   tar -zxvf $1    ;; .bz2)      bunzip2 $1       ;; .gz)       gunzip $1       ;; .jar)      unzip $1       ;; .rar)      unrar x $1       ;; .tar)      tar -xvf $1       ;; .tbz2)     tar -jxvf $1    ;; .tgz)      tar -zxvf $1    ;; .zip)      unzip $1          ;; .Z)        uncompress $1    ;; )          echo “Unable to extract ‘$1’ :: Unknown extension”        esac    else        echo “File (‘$1’) does not exist!”    fi }<br>考虑到使用的不多，配置又麻烦，我没有配置这个功能 不过我想肯定有人愿意在这上面花点时间</p>
<p>将Zsh设置为默认Shell (不建议更改root用户的默认shell)<br>usermod -s /usr/local/bin/ zsh</p>

    
  </div>
</article>

</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/category/"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tags/"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/link/"
              target="_self"
              >
              友链
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              target="_self"
              >
              关于
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="http://feeds.feedburner.com/WesHome"
              target="_blank"
              >
              RSS
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    
  <section class="disqus-comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
  </section>

  <script>
    var disqus_shortname = 'weshome';
    
    var disqus_url = 'http://idc.wf/2011/01/08/zhong-ji-shellzsh/';
    
    (function(){
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>

  <script id="dsq-count-scr" src="//weshome.disqus.com/count.js" async></script>



    




  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235687', function() {
      // load success
    });
  }
</script>

</body>
</html>
