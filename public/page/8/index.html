<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Dray&#39;s Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Dray's Home">
<meta property="og:url" content="http://idc.wf/page/8/index.html">
<meta property="og:site_name" content="Dray's Home">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dray's Home">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Dray&#39;s Home" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://s.gravatar.com/avatar/00ced3a6cdfd0398fabe0717147a6a32?s=200" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Dray</a></h1>
		</hgroup>

		
		<p class="header-subtitle">疯狂痴呆傻，美甘苦涩禅。</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>標籤</li>
						
						<li>友情链接</li>
						
						
						<li>關於</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/DrayChou/" title="github">github</a>
					        
								<a class="rss" target="_blank" href="http://feeds.feedburner.com/WesHome" title="rss">rss</a>
					        
								<a class="twitter" target="_blank" href="http://twitter.com/_0dc/" title="twitter">twitter</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/net/" style="font-size: 10px;">.net</a> <a href="/tags/80/" style="font-size: 10px;">80</a> <a href="/tags/Octopress/" style="font-size: 10px;">Octopress</a> <a href="/tags/PushBullet/" style="font-size: 10px;">PushBullet</a> <a href="/tags/Shadowsocks/" style="font-size: 10px;">Shadowsocks</a> <a href="/tags/VisualStudio/" style="font-size: 10px;">VisualStudio</a> <a href="/tags/api/" style="font-size: 10px;">api</a> <a href="/tags/app/" style="font-size: 10px;">app</a> <a href="/tags/archlinux/" style="font-size: 10px;">archlinux</a> <a href="/tags/bash/" style="font-size: 10px;">bash</a> <a href="/tags/bluehost/" style="font-size: 10px;">bluehost</a> <a href="/tags/bmp/" style="font-size: 10px;">bmp</a> <a href="/tags/bug/" style="font-size: 10px;">bug</a> <a href="/tags/buzz/" style="font-size: 10px;">buzz</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/chrome/" style="font-size: 12px;">chrome</a> <a href="/tags/completion/" style="font-size: 10px;">completion</a> <a href="/tags/cow/" style="font-size: 10px;">cow</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/diary/" style="font-size: 12px;">diary</a> <a href="/tags/dir/" style="font-size: 10px;">dir</a> <a href="/tags/disqus/" style="font-size: 10px;">disqus</a> <a href="/tags/domain/" style="font-size: 10px;">domain</a> <a href="/tags/download/" style="font-size: 10px;">download</a> <a href="/tags/facebook/" style="font-size: 12px;">facebook</a> <a href="/tags/file/" style="font-size: 10px;">file</a> <a href="/tags/file-exists/" style="font-size: 10px;">file_exists</a> <a href="/tags/float/" style="font-size: 10px;">float</a> <a href="/tags/fqrouter/" style="font-size: 10px;">fqrouter</a> <a href="/tags/free/" style="font-size: 10px;">free</a> <a href="/tags/fund/" style="font-size: 10px;">fund</a> <a href="/tags/gedit/" style="font-size: 10px;">gedit</a> <a href="/tags/gfw/" style="font-size: 12px;">gfw</a> <a href="/tags/gnome/" style="font-size: 10px;">gnome</a> <a href="/tags/god/" style="font-size: 10px;">god</a> <a href="/tags/golang/" style="font-size: 10px;">golang</a> <a href="/tags/googlereader/" style="font-size: 10px;">googlereader</a> <a href="/tags/grub/" style="font-size: 10px;">grub</a> <a href="/tags/history/" style="font-size: 10px;">history</a> <a href="/tags/hosts/" style="font-size: 10px;">hosts</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/https/" style="font-size: 10px;">https</a> <a href="/tags/ie/" style="font-size: 10px;">ie</a> <a href="/tags/ie6/" style="font-size: 10px;">ie6</a> <a href="/tags/it/" style="font-size: 10px;">it</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/jquery/" style="font-size: 12px;">jquery</a> <a href="/tags/js/" style="font-size: 18px;">js</a> <a href="/tags/kde/" style="font-size: 10px;">kde</a> <a href="/tags/lamp/" style="font-size: 10px;">lamp</a> <a href="/tags/laravel/" style="font-size: 10px;">laravel</a> <a href="/tags/linux/" style="font-size: 16px;">linux</a> <a href="/tags/litespeed/" style="font-size: 10px;">litespeed</a> <a href="/tags/log/" style="font-size: 10px;">log</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/mail/" style="font-size: 10px;">mail</a> <a href="/tags/mantis/" style="font-size: 10px;">mantis</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/mysql/" style="font-size: 14px;">mysql</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/notepad/" style="font-size: 10px;">notepad</a> <a href="/tags/oschina/" style="font-size: 10px;">oschina</a> <a href="/tags/password/" style="font-size: 10px;">password</a> <a href="/tags/php/" style="font-size: 14px;">php</a> <a href="/tags/pi/" style="font-size: 10px;">pi</a> <a href="/tags/ping/" style="font-size: 10px;">ping</a> <a href="/tags/proxy/" style="font-size: 12px;">proxy</a> <a href="/tags/ruby/" style="font-size: 12px;">ruby</a> <a href="/tags/seo/" style="font-size: 10px;">seo</a> <a href="/tags/seperator/" style="font-size: 10px;">seperator</a> <a href="/tags/shadowsocks/" style="font-size: 10px;">shadowsocks</a> <a href="/tags/smarty/" style="font-size: 16px;">smarty</a> <a href="/tags/soap/" style="font-size: 10px;">soap</a> <a href="/tags/sources/" style="font-size: 12px;">sources</a> <a href="/tags/sql/" style="font-size: 10px;">sql</a> <a href="/tags/ssh/" style="font-size: 14px;">ssh</a> <a href="/tags/ssl/" style="font-size: 10px;">ssl</a> <a href="/tags/sublimetext/" style="font-size: 10px;">sublimetext</a> <a href="/tags/supervisor/" style="font-size: 10px;">supervisor</a> <a href="/tags/svn/" style="font-size: 10px;">svn</a> <a href="/tags/tag/" style="font-size: 10px;">tag</a> <a href="/tags/taobao/" style="font-size: 10px;">taobao</a> <a href="/tags/twister/" style="font-size: 10px;">twister</a> <a href="/tags/twitter/" style="font-size: 18px;">twitter</a> <a href="/tags/unlink/" style="font-size: 10px;">unlink</a> <a href="/tags/upload/" style="font-size: 10px;">upload</a> <a href="/tags/vanilla/" style="font-size: 10px;">vanilla</a> <a href="/tags/vps/" style="font-size: 20px;">vps</a> <a href="/tags/week/" style="font-size: 10px;">week</a> <a href="/tags/weibo/" style="font-size: 10px;">weibo</a> <a href="/tags/wine/" style="font-size: 10px;">wine</a> <a href="/tags/wordpress/" style="font-size: 12px;">wordpress</a> <a href="/tags/wsdl/" style="font-size: 10px;">wsdl</a> <a href="/tags/xampp/" style="font-size: 10px;">xampp</a> <a href="/tags/xmarks/" style="font-size: 10px;">xmarks</a> <a href="/tags/xml/" style="font-size: 10px;">xml</a> <a href="/tags/zsh/" style="font-size: 10px;">zsh</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.fangshanzi.com/">方片子的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://locyoo.com/blog/">Locyoo Manor|部落格</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://fpnews.cn/">方片快报</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://hskb.me/">黄书快报</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Dray</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://s.gravatar.com/avatar/00ced3a6cdfd0398fabe0717147a6a32?s=200" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Dray</h1>
			</hgroup>
			
			<p class="header-subtitle">疯狂痴呆傻，美甘苦涩禅。</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/DrayChou/" title="github">github</a>
			        
						<a class="rss" target="_blank" href="http://feeds.feedburner.com/WesHome" title="rss">rss</a>
			        
						<a class="twitter" target="_blank" href="http://twitter.com/_0dc/" title="twitter">twitter</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-a-few-good-free-resources" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2011/02/18/a-few-good-free-resources/" class="article-date">
  	<time datetime="2011-02-17T16:00:00.000Z" itemprop="datePublished">2011-02-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/02/18/a-few-good-free-resources/">几个比较好的免费资源</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3><a href="http://www.qianduan.net/fresh-free-html-templates-2010.html" target="_blank" rel="external">2010年最新的100个免费HTML模板</a></h3>  <h3><a href="http://www.qianduan.net/108-beautiful-and-simple-free-icons.html" target="_blank" rel="external">108个漂亮而简约的免费图标</a></h3>  <h3><a href="http://www.qianduan.net/15-jquery-content-sliders.html" target="_blank" rel="external">15个最佳jQuery幻灯插件和教程</a></h3>  <h3><a href="http://www.qianduan.net/30-well-designed-online-shopping-carts.html" target="_blank" rel="external">国外30多个设计精良的电子商务网站</a></h3>  <h3><a href="http://www.qianduan.net/20-high-quality-free-css-templates.html" target="_blank" rel="external">20个高质量的免费css模板</a></h3>  <h3><a href="http://www.qianduan.net/9-useful-javascript-syntax-highlighting-scripts.html" target="_blank" rel="external">9款有用的javascript代码高亮脚本</a></h3>  <h3><a href="http://www.qianduan.net/10-interesting-free-fonts.html" target="_blank" rel="external">10款有趣的免费字体</a></h3>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/free/">free</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/web/">web</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-notepad-to-remove-the-code-line-number-of-the-several-methods" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2011/02/18/notepad-to-remove-the-code-line-number-of-the-several-methods/" class="article-date">
  	<time datetime="2011-02-17T16:00:00.000Z" itemprop="datePublished">2011-02-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/02/18/notepad-to-remove-the-code-line-number-of-the-several-methods/">Notepad++去除代码行号的几种方法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>问：</strong>在网页中复制代码时，常常遇到高亮程序自动给代码加上行号或字符“#”，如何格式化？如下：  </p>
<pre><code>#1 //去除首字符或行号
#2 &amp; lt; ? php#100 echo &apos;再长点&apos;;#............#2010 echo &apos;无语了吧&apos;;#2012 ? &gt;
</code></pre><p><strong></strong><br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/notepad/">notepad</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/web/">web</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2011/02/18/notepad-to-remove-the-code-line-number-of-the-several-methods/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-fund-22-asked-you-know-it" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2011/02/18/fund-22-asked-you-know-it/" class="article-date">
  	<time datetime="2011-02-17T16:00:00.000Z" itemprop="datePublished">2011-02-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/02/18/fund-22-asked-you-know-it/">公积金22问，你懂它吗？</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>第1问：住房公积金有什么用处？</strong>  <strong>什么是住房公积金？</strong>  住房公积金，是用人单位为了保障员工住房问题，每个月按照员工的工资比例，付出一部分钱，单独存到该员工的独立账户（专门用来缴纳公积金的账户），员工也从工资里扣除同等的钱，一并存到这个账户。  但是，公积金账户虽然是自己的，却并不像我们日常用的个人银行账户一样，能够随时的存取。它是按月缴存，并只有当个人要买房、租房或装修时，且能够提供出相应的证明材料（例如：购房合同…）后，方可申请提取出来。否则，就要等到退休后一次性全部取出。  <strong>住房公积金有什么用处？</strong>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fund/">fund</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/diary/">diary</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2011/02/18/fund-22-asked-you-know-it/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-php-bmp-format-image-into-jpg-format-program" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2011/02/18/php-bmp-format-image-into-jpg-format-program/" class="article-date">
  	<time datetime="2011-02-17T16:00:00.000Z" itemprop="datePublished">2011-02-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/02/18/php-bmp-format-image-into-jpg-format-program/">php bmp格式图片转换成jpg格式程序</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <div class="cnblogs_code">

<pre><code>&lt;?php
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
*/
//php教程将bmp格式图片转换成jpg格式程序
function imagebmp($img,$file=&quot;&quot;,$rle=0) {

    $colorcount=imagecolorstotal($img);
    $transparent=imagecolortransparent($img);
    $istransparent=$transparent!=-1;

    if($istransparent) $colorcount--;
    if($colorcount==0) {
        $colorcount=0;
        $bitcount=24;
    };
    if(($colorcount&gt;0)and($colorcount&lt;=2)) {
        $colorcount=2;
        $bitcount=1;
    };
    if(($colorcount&gt;2)and($colorcount&lt;=16)) {
        $colorcount=16;
        $bitcount=4;
    };
    if(($colorcount&gt;16)and($colorcount&lt;=256)) {
        $colorcount=0;
        $bitcount=8;
    };

    $width=imagesx($img);
    $height=imagesy($img);
    $zbytek=(4-($width/(8/$bitcount))%4)%4;
    if($bitcount&lt;24) $palsize=pow(2,$bitcount)*4;
    $size=(floor($width/(8/$bitcount))+$zbytek)*$height+54;
    $size+=$palsize;
    $offset=54+$palsize;
    // bitmap file header
    $ret = &apos;bm&apos;;                        // header (2b)
    $ret .= int_to_dword($size);        // size of file (4b)
    $ret .= int_to_dword(0);        // reserved (4b)
    $ret .= int_to_dword($offset);        // byte location in the file which is first byte of image (4b)
    // bitmap info header
    $ret .= int_to_dword(40);        // size of bitmapinfoheader (4b)
    $ret .= int_to_dword($width);        // width of bitmap (4b)
    $ret .= int_to_dword($height);        // height of bitmap (4b)
    $ret .= int_to_word(1);        // biplanes = 1 (2b)
    $ret .= int_to_word($bitcount);        // bibitcount = {1 (mono) or 4 (16 clr ) or 8 (256 clr) or 24 (16 mil)} (2b)
    $ret .= int_to_dword($rle);        // rle compression (4b)
    $ret .= int_to_dword(0);        // width x height (4b)
    $ret .= int_to_dword(0);        // bixpelspermeter (4b)
    $ret .= int_to_dword(0);        // biypelspermeter (4b)
    $ret .= int_to_dword(0);        // number of palettes used (4b)
    $ret .= int_to_dword(0);        // number of important colour (4b)
    // image data
    $cc=$colorcount;
    $sl1=strlen($ret);
    if($cc==0) $cc=256;
    if($bitcount&lt;24) {
        $colortotal=imagecolorstotal($img);
        if($istransparent) $colortotal--;
        for($p=0;$p&lt;$colortotal;$p++) {
            $color=imagecolorsforindex($img,$p);
            $ret.=inttobyte($color[&quot;blue&quot;]);
            $ret.=inttobyte($color[&quot;green&quot;]);
            $ret.=inttobyte($color[&quot;red&quot;]);
            $ret.=inttobyte(0); //reserved
        };
        $ct=$colortotal;
        for($p=$colortotal;$p&lt;$cc;$p++) {
            $ret.=inttobyte(0);
            $ret.=inttobyte(0);
            $ret.=inttobyte(0);
            $ret.=inttobyte(0); //reserved
        };
    };

    if($bitcount&lt;=8) {
        for($y=$height-1;$y&gt;=0;$y--) {
            $bwrite=&quot;&quot;;
            for($x=0;$x&lt;$width;$x++) {
                $color=imagecolorat($img,$x,$y);
                $bwrite.=decbinx($color,$bitcount);
                if(strlen($bwrite)==8) {
                    $retd.=inttobyte(bindec($bwrite));
                    $bwrite=&quot;&quot;;
                };
            };
            if((strlen($bwrite)&lt;8)and(strlen($bwrite)!=0)) {
                $sl=strlen($bwrite);
                for($t=0;$t&lt;8-$sl;$t++)
                    $sl.=&quot;0&quot;;
                $retd.=inttobyte(bindec($bwrite));
            };
            for($z=0;$z&lt;$zbytek;$z++)
                $retd.=inttobyte(0);
        };
    };
    if(($rle==1)and($bitcount==8)) {
        for($t=0;$t&lt;strlen($retd);$t+=4) {
            if($t!=0)
                if(($t)%$width==0)
                    $ret.=chr(0).chr(0);
            if(($t+5)%$width==0) {
                $ret.=chr(0).chr(5).substr($retd,$t,5).chr(0);
                $t+=1;
            }
            if(($t+6)%$width==0) {
                $ret.=chr(0).chr(6).substr($retd,$t,6);
                $t+=2;
            }
            else {
                $ret.=chr(0).chr(4).substr($retd,$t,4);
            };
        };
        $ret.=chr(0).chr(1);
    }
    else {
        $ret.=$retd;
    };

    if($bitcount==24) {
        for($z=0;$z&lt;$zbytek;$z++)
            $dopl.=chr(0);
        for($y=$height-1;$y&gt;=0;$y--) {
            for($x=0;$x&lt;$width;$x++) {
                $color=imagecolorsforindex($img,imagecolorat($img,$x,$y));
                $ret.=chr($color[&quot;blue&quot;]).chr($color[&quot;green&quot;]).chr($color[&quot;red&quot;]);
            }
            $ret.=$dopl;
        };
    };
    if($file!=&quot;&quot;) {
        $r=($f=fopen($file,&quot;w&quot;));
        $r=$r and fwrite($f,$ret);
        $r=$r and fclose($f);
        return $r;
    }
    else {
        echo $ret;
    };
};

/*
*------------------------------------------------------------
*                    imagecreatefrombmp
*------------------------------------------------------------
*            - reads image from a bmp file
*
*         parameters:  $file - target file to load
*
*            returns: image id
*/
function imagecreatefrombmp($file) {
    global  $currentbit, $echomode;
    $f=fopen($file,&quot;r&quot;);
    $header=fread($f,2);
    if($header==&quot;bm&quot;) {
        $size=freaddword($f);
        $reserved1=freadword($f);
        $reserved2=freadword($f);
        $firstbyteofimage=freaddword($f);
        $sizebitmapinfoheader=freaddword($f);
        $width=freaddword($f);
        $height=freaddword($f);
        $biplanes=freadword($f);
        $bibitcount=freadword($f);
        $rlecompression=freaddword($f);
        $widthxheight=freaddword($f);
        $bixpelspermeter=freaddword($f);
        $biypelspermeter=freaddword($f);
        $numberofpalettesused=freaddword($f);
        $numberofimportantcolors=freaddword($f);
        if($bibitcount&lt;24) {
            $img=imagecreate($width,$height);
            $colors=pow(2,$bibitcount);
            for($p=0;$p&lt;$colors;$p++) {
                $b=freadbyte($f);
                $g=freadbyte($f);
                $r=freadbyte($f);
                $reserved=freadbyte($f);
                $palette[]=imagecolorallocate($img,$r,$g,$b);
            };

            if($rlecompression==0) {
                $zbytek=(4-ceil(($width/(8/$bibitcount)))%4)%4;
                for($y=$height-1;$y&gt;=0;$y--) {
                    $currentbit=0;
                    for($x=0;$x&lt;$width;$x++) {
                        $c=freadbits($f,$bibitcount);
                        imagesetpixel($img,$x,$y,$palette[$c]);
                    };
                    if($currentbit!=0) {
                        freadbyte($f);
                    };
                    for($g=0;$g&lt;$zbytek;$g++)
                        freadbyte($f);
                };
            };
        };

        if($rlecompression==1) //$bi_rle8
        {
            $y=$height;
            $pocetb=0;
            while(true) {
                $y--;
                $prefix=freadbyte($f);
                $suffix=freadbyte($f);
                $pocetb+=2;
                $echoit=false;
                if($echoit)echo &quot;prefix: $prefix suffix: $suffix&lt;br&gt;&quot;;
                if(($prefix==0)and($suffix==1)) break;
                if(feof($f)) break;
                while(!(($prefix==0)and($suffix==0))) {
                    if($prefix==0) {
                        $pocet=$suffix;
                        $data.=fread($f,$pocet);
                        $pocetb+=$pocet;
                        if($pocetb%2==1) {
                            freadbyte($f);
                            $pocetb++;
                        };
                    };
                    if($prefix&gt;0) {
                        $pocet=$prefix;
                        for($r=0;$r&lt;$pocet;$r++)
                            $data.=chr($suffix);
                    };
                    $prefix=freadbyte($f);
                    $suffix=freadbyte($f);
                    $pocetb+=2;
                    if($echoit) echo &quot;prefix: $prefix suffix: $suffix&lt;br&gt;&quot;;
                };
                for($x=0;$x&lt;strlen($data);$x++) {
                    imagesetpixel($img,$x,$y,$palette[ord($data[$x])]);
                };
                $data=&quot;&quot;;
            };
        };

        if($rlecompression==2) //$bi_rle4
        {
            $y=$height;
            $pocetb=0;
            /*while(!feof($f))
 echo freadbyte($f).&quot;_&quot;.freadbyte($f).&quot;&lt;br&gt;&quot;;*/
            while(true) {
//break;
                $y--;
                $prefix=freadbyte($f);
                $suffix=freadbyte($f);
                $pocetb+=2;
                $echoit=false;
                if($echoit)echo &quot;prefix: $prefix suffix: $suffix&lt;br&gt;&quot;;
                if(($prefix==0)and($suffix==1)) break;
                if(feof($f)) break;
                while(!(($prefix==0)and($suffix==0))) {
                    if($prefix==0) {
                        $pocet=$suffix;
                        $currentbit=0;
                        for($h=0;$h&lt;$pocet;$h++)
                            $data.=chr(freadbits($f,4));
                        if($currentbit!=0) freadbits($f,4);
                        $pocetb+=ceil(($pocet/2));
                        if($pocetb%2==1) {
                            freadbyte($f);
                            $pocetb++;
                        };
                    };
                    if($prefix&gt;0) {
                        $pocet=$prefix;
                        $i=0;
                        for($r=0;$r&lt;$pocet;$r++) {
                            if($i%2==0) {
                                $data.=chr($suffix%16);
                            }
                            else {
                                $data.=chr(floor($suffix/16));
                            };
                            $i++;
                        };
                    };
                    $prefix=freadbyte($f);
                    $suffix=freadbyte($f);
                    $pocetb+=2;
                    if($echoit) echo &quot;prefix: $prefix suffix: $suffix&lt;br&gt;&quot;;
                };
                for($x=0;$x&lt;strlen($data);$x++) {
                    imagesetpixel($img,$x,$y,$palette[ord($data[$x])]);
                };
                $data=&quot;&quot;;
            };
        };

        if($bibitcount==24) {
            $img=imagecreatetruecolor($width,$height);
            $zbytek=$width%4;
            for($y=$height-1;$y&gt;=0;$y--) {
                for($x=0;$x&lt;$width;$x++) {
                    $b=freadbyte($f);
                    $g=freadbyte($f);
                    $r=freadbyte($f);
                    $color=imagecolorexact($img,$r,$g,$b);
                    if($color==-1) $color=imagecolorallocate($img,$r,$g,$b);
                    imagesetpixel($img,$x,$y,$color);
                }
                for($z=0;$z&lt;$zbytek;$z++)
                    freadbyte($f);
            };
        };
        return $img;
    };

    fclose($f);

};

/*
* helping functions:
*-------------------------
*
* freadbyte($file) - reads 1 byte from $file
* freadword($file) - reads 2 bytes (1 word) from $file
* freaddword($file) - reads 4 bytes (1 dword) from $file
* freadlngint($file) - same as freaddword($file)
* decbin8($d) - returns binary string of d zero filled to 8
* retbits($byte,$start,$len) - returns bits $start-&gt;$start+$len from $byte
* freadbits($file,$count) - reads next $count bits from $file
* rgbtohex($r,$g,$b) - convert $r, $g, $b to hex
* int_to_dword($n) - returns 4 byte representation of $n
* int_to_word($n) - returns 2 byte representation of $n
*/
function freadbyte($f) {
    return ord(fread($f,1));
};
function freadword($f) {
    $b1=freadbyte($f);
    $b2=freadbyte($f);
    return $b2*256+$b1;
};

function freadlngint($f) {
    return freaddword($f);
};
function freaddword($f) {
    $b1=freadword($f);
    $b2=freadword($f);
    return $b2*65536+$b1;
};

function retbits($byte,$start,$len) {
    $bin=decbin8($byte);
    $r=bindec(substr($bin,$start,$len));
    return $r;
};

$currentbit=0;
function freadbits($f,$count) {
    global $currentbit,$smode;
    $byte=freadbyte($f);
    $lastcbit=$currentbit;
    $currentbit+=$count;
    if($currentbit==8) {
        $currentbit=0;
    }
    else {
        fseek($f,ftell($f)-1);
    };
    return retbits($byte,$lastcbit,$count);
};

function rgbtohex($red,$green,$blue) {
    $hred=dechex($red);
    if(strlen($hred)==1) $hred=&quot;0$hred&quot;;
    $hgreen=dechex($green);
    if(strlen($hgreen)==1) $hgreen=&quot;0$hgreen&quot;;
    $hblue=dechex($blue);
    if(strlen($hblue)==1) $hblue=&quot;0$hblue&quot;;
    return($hred.$hgreen.$hblue);
};
function int_to_dword($n) {
    return chr($n &amp; 255).chr(($n &gt;&gt; 8) &amp; 255).chr(($n &gt;&gt; 16) &amp; 255).chr(($n &gt;&gt; 24) &amp; 255);
}
function int_to_word($n) {
    return chr($n &amp; 255).chr(($n &gt;&gt; 8) &amp; 255);
}

function decbin8($d) {
    return decbinx($d,8);
};
function decbinx($d,$n) {
    $bin=decbin($d);
    $sbin=strlen($bin);
    for($j=0;$j&lt;$n-$sbin;$j++)
        $bin=&quot;0$bin&quot;;
    return $bin;
};
function inttobyte($n) {
    return chr($n);
};

//实例方法
//include_once(&apos;bmp.php&apos;);
$image=imagecreatefrombmp(&apos;a.bmp&apos;);
imagejpeg($image,&apos;a.jpeg&apos;);
imagedestroy($image);
</code></pre></div>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/bmp/">bmp</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/web/">web</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-jquery-live-and-event-delegation" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2011/02/18/jquery-live-and-event-delegation/" class="article-date">
  	<time datetime="2011-02-17T16:00:00.000Z" itemprop="datePublished">2011-02-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/02/18/jquery-live-and-event-delegation/">jQuery.live()与Event Delegation</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>网友Ark刚好问到live()，不知道大家有没有觉得jQuery. live()具有为”未来元素”设定事件的未卜先知能力很神奇?至少在乍听之余，我觉得很不可思议，莫非它要拦截所有建立元素的过程? 不对，难度很高、没效率、漏洞也很多，那么又是怎么做到的呢?  本草網目官方文件上有詳細的解釋，關鍵在Event Delegation 。 本草网目官方文件上有详细的解释，关键在Event Delegation 。
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jquery/">jquery</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/web/">web</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2011/02/18/jquery-live-and-event-delegation/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-php-file-download-large-file-support-class-supports-http-over-2g" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2011/02/18/php-file-download-large-file-support-class-supports-http-over-2g/" class="article-date">
  	<time datetime="2011-02-17T16:00:00.000Z" itemprop="datePublished">2011-02-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/02/18/php-file-download-large-file-support-class-supports-http-over-2g/">php 超大文件下载类 支持2g以上文件 支持断点续传</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre><code>&lt;?php
**
 * &lt;SPAN class=t_tag onclick=tagshow(event) href=&quot;tag.php?name=%CE%C4%BC%FE&quot;&gt;文件&lt;/SPAN&gt;传输，支持断点续传。
 * 2g以上超大文件也有效
 * @author MoXie
 */
class Transfer {
    **
     * 缓冲单元
     */
    const BUFF_SIZE = 5120; / 1024 * 5
    **
     * 文件地址
     * @var &lt;String&gt;
     */
    private $filePath;
    **
     * 文件大小
     * @var &lt;String&gt; php超大数字 &lt;SPAN class=t_tag onclick=tagshow(event) href=&quot;tag.php?name=%D7%D6%B7%FB&quot;&gt;字符&lt;/SPAN&gt;串形式描述
     */
    private $fileSize;
    **
     * 文件类型
     * @var &lt;String&gt;
     */
    private $mimeType;
    **
     * 请求区域（范围）
     * @var &lt;String&gt;
     */
    private $range;
    **
     * 是否写入日志
     * @var &lt;Boolean&gt;
     */
    private $isLog = false;
    **
     *
     * @param &lt;String&gt; $filePath 文件路径
     * @param &lt;String&gt; $mimeType  文件类型
     * @param &lt;String&gt; $range 请求区域（范围）
     */
    function __construct($filePath, $mimeType = null , $range = null) {
        $this-&gt;filePath = $filePath;
        $this-&gt;fileSize = sprintf(&apos;%u&apos;,filesize($filePath));
        $this-&gt;mimeType = ($mimeType != null)?$mimeType:&quot;application/octet-stream&quot;; /  bin
        $this-&gt;range = trim($range);
    }
    **
     *  获取文件区域
     * @return &lt;Map&gt; {&apos;start&apos;:long,&apos;end&apos;:long} or null
     */
    private function getRange() {
        **
         *  Range: bytes=-128
         *  Range: bytes=-128
         *  Range: bytes=28-175,382-399,510-541,644-744,977-980
         *  Range: bytes=28-175n380
         *  type 1
         *  RANGE: bytes=1000-9999
         *  RANGE: bytes=2000-9999
         *  type 2
         *  RANGE: bytes=1000-1999
         *  RANGE: bytes=2000-2999
         *  RANGE: bytes=3000-3999
         */
        if (!empty($this-&gt;range)) {
            $range = preg_replace(&apos;/[s|,].*/&apos;,&apos;&apos;,$this-&gt;range);
            $range = explode(&apos;-&apos;,substr($range,6));
            if (count($range) &lt; 2 ) {
                $range[1] = $this-&gt;fileSize; / Range: bytes=-100
            }
            $range = array_combine(array(&apos;start&apos;,&apos;end&apos;),$range);
            if (empty($range[&apos;start&apos;])) {
                $range[&apos;start&apos;] = 0;
            }
            if (!isset ($range[&apos;end&apos;]) || empty($range[&apos;end&apos;])) {
                $range[&apos;end&apos;] = $this-&gt;fileSize;
            }
            return $range;
        }
        return null;
    }
    **
     * 向客户端发送文件
     */
    public function send() {
        $fileHande = fopen($this-&gt;filePath, &apos;rb&apos;);
        if ($fileHande) {
            / setting
            ob_end_clean();/ clean cache
            ob_start();
            ini_set(&apos;output_buffering&apos;, &apos;Off&apos;);
            ini_set(&apos;zlib.output_compression&apos;, &apos;Off&apos;);
            $magicQuotes = get_magic_quotes_gpc();
            set_magic_quotes_runtime(0);
            / init
            $lastModified = gmdate(&apos;D, d M Y H:i:s&apos;, filemtime($this-&gt;filePath)).&apos; GMT&apos;;
            $etag = sprintf(&apos;w/&quot;%s:%s&quot;&apos;,md5($lastModified),$this-&gt;fileSize);
            $ranges = $this-&gt;getRange();
            / headers
            header(sprintf(&apos;Last-Modified: %s&apos;,$lastModified));
            header(sprintf(&apos;ETag: %s&apos;,$etag));
            header(sprintf(&apos;Content-Type: %s&apos;,$this-&gt;mimeType));
            $disposition = &apos;attachment&apos;;
            if (strpos($this-&gt;mimeType,&apos;image/&apos;) !== FALSE) {
                $disposition = &apos;inline&apos;;
            }
            header(sprintf(&apos;Content-Disposition: %s; filename=&quot;%s&quot;&apos;,$disposition,basename($this-&gt;filePath)));

            if ($ranges != null) {
                if ($this-&gt;isLog) {
                    $this-&gt;log(json_encode($ranges).&apos; &apos;.$_SERVER[&apos;HTTP_RANGE&apos;]);
                }
                header(&apos;HTTP/1.1 206 Partial Content&apos;);
                header(&apos;Accept-Ranges: bytes&apos;);
                header(sprintf(&apos;Content-Length: %u&apos;,$ranges[&apos;end&apos;] - $ranges[&apos;start&apos;]));
                header(sprintf(&apos;Content-Range: bytes %s-%s/%s&apos;, $ranges[&apos;start&apos;], $ranges[&apos;end&apos;],$this-&gt;fileSize));
                /
                fseek($fileHande, sprintf(&apos;%u&apos;,$ranges[&apos;start&apos;]));
            }else {
                header(&quot;HTTP/1.1 200 OK&quot;);
                header(sprintf(&apos;Content-Length: %s&apos;,$this-&gt;fileSize));
            }
            / read file
            $lastSize = 0;
            while(!feof($fileHande) &amp;&amp; !connection_aborted()) {
                $lastSize = sprintf(&quot;%u&quot;, bcsub($this-&gt;fileSize,sprintf(&quot;%u&quot;,ftell($fileHande))));
                if (bccomp($lastSize,self::BUFF_SIZE) &gt; 0) {
                    $lastSize = self::BUFF_SIZE;
                }
                echo fread($fileHande, $lastSize);
                flush();
                ob_flush();
            }
            set_magic_quotes_runtime($magicQuotes);
            ob_end_flush();
        }
        if ($fileHande != null) {
            fclose($fileHande);
        }
    }
    **
     * 设置记录
     * @param &lt;Boolean&gt; $isLog  是否记录
     */
    public function setIsLog($isLog = true) {
        $this-&gt;isLog = $isLog;
    }
    **
     * 记录
     * @param &lt;String&gt; $msg  记录信息
     */
    private function log($msg) {
        try {
            $handle = fopen(&apos;transfer_log.txt&apos;, &apos;a&apos;);
            fwrite($handle, sprintf(&apos;%s : %s&apos;.&quot;&lt;SPAN class=t_tag onclick=tagshow(event) href=\&quot;tag.php?name=php\&quot;&gt;php&lt;/SPAN&gt;_EOL&quot;,date(&apos;Y-m-d H:i:s&apos;),$msg));
            fclose($handle);
        }catch(Exception $e) {
            / null;
        }
    }
}
date_default_timezone_set(&apos;Asia/Shanghai&apos;);
error_reporting(E_STRICT);
function errorHandler($errno, $errstr, $errfile, $errline) {
    echo &apos;&lt;p&gt;error:&apos;,$errstr,&apos;&lt;/p&gt;&apos;;
    exit();
}
set_error_handler(&apos;errorHandler&apos;);
define(&apos;IS_DEbug&apos;,true);

/
/
$filePath = &apos;/Movie/The.Hurt.Locker.2008.x264.AC3-WAF.mkv&apos;;
$mimeType = &apos;audio/x-matroska&apos;;
$range = isset($_SERVER[&apos;HTTP_RANGE&apos;])?$_SERVER[&apos;HTTP_RANGE&apos;]:null;
if (IS_DEbug) {
    /    $range = &quot;bytes=1000-1999n2000&quot;;
    /    $range = &quot;bytes=1000-1999,2000&quot;;
    /    $range = &quot;bytes=1000-1999,-2000&quot;;
    /    $range = &quot;bytes=1000-1999,2000-2999&quot;;
}
set_time_limit(0);
$transfer = new Transfer($filePath,$mimeType,$range);
if (IS_DEbug) {
    $transfer-&gt;setIsLog(true);
}
$transfer-&gt;send();
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/file/">file</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/web/">web</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-php-smarty-caching-application-template-engine" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2011/02/17/php-smarty-caching-application-template-engine/" class="article-date">
  	<time datetime="2011-02-16T16:00:00.000Z" itemprop="datePublished">2011-02-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/02/17/php-smarty-caching-application-template-engine/">php模板引擎smarty缓存应用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1：smarty 缓存的配置  php代码<a href="http://writeblog.csdn.net/#"></a>  2:smarty缓存的使用和清除  php代码<a href="http://writeblog.csdn.net/#"></a>  <div></p>
<p>$<span style="color: #800000">smarty-</span>&gt;<span style="color: #800000">display</span>(‘<span style="color: #800000">cache</span>.<span style="color: #800000">tpl</span>‘, <span style="color: #800000">cache</span><em><span style="color: #800000">id</span>);  //<span style="color: #800000">创建带ID的缓存</span>,<span style="color: #800000">cache</span>.<span style="color: #800000">tpl</span>  <span style="color: #800000">模板文件</span><br>$<span style="color: #800000">smarty-</span>&gt;<span style="color: #800000">clear</span></em><span style="color: #800000">all</span><em><span style="color: #800000">cache</span>(); //<span style="color: #800000">清除所有缓存</span><br>$<span style="color: #800000">smarty-</span>&gt;<span style="color: #800000">clear</span></em><span style="color: #800000">cache</span>(‘<span style="color: #800000">index</span>.<span style="color: #800000">htm</span>‘); //<span style="color: #800000">清除index</span>.<span style="color: #800000">tpl的缓存</span><br>$<span style="color: #800000">smarty-</span>&gt;<span style="color: #800000">clear</span><em><span style="color: #800000">cache</span>(‘<span style="color: #800000">index</span>.<span style="color: #800000">htm</span>‘,<span style="color: #800000">cache</span></em><span style="color: #800000">id</span>); //<span style="color: #800000">清除指定id的缓存</span></p>
<p></div><br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/smarty/">smarty</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/web/">web</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2011/02/17/php-smarty-caching-application-template-engine/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-to-achieve-cross-browser-float-center" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2011/02/16/to-achieve-cross-browser-float-center/" class="article-date">
  	<time datetime="2011-02-15T16:00:00.000Z" itemprop="datePublished">2011-02-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/02/16/to-achieve-cross-browser-float-center/">跨浏览器实现float:center</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们都知道float:left和float:right，但是否想过float:center呢？居中浮动。。。  <div></p>
<pre><code>&lt;div id=&quot;&lt;span style=&quot;color: #8b0000&quot;&gt;macji&lt;/span&gt;&quot;&gt;
    &lt;ul &lt;span style=&quot;color: #0000ff&quot;&gt;class&lt;/span&gt;=&quot;&lt;span style=&quot;color: #8b0000&quot;&gt;macji-skin&lt;/span&gt;&quot;&gt;
        &lt;li&gt;列表一&lt;/li&gt;
        &lt;li&gt;列表二&lt;/li&gt;
        &lt;li&gt;列表三&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;&lt;br&gt;
</code></pre><p></div></p>
<p>我们希望实现li是浮动的，并且居中的（li个数不固定，ul宽度未知）。可以设置ul的text-align:center,再设置li的display，可以实现居中，但这样不是我们的初衷，我们需要实现float:center。<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/float/">float</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/web/">web</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2011/02/16/to-achieve-cross-browser-float-center/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-php-smarty-cache-operation" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2011/02/16/php-smarty-cache-operation/" class="article-date">
  	<time datetime="2011-02-15T16:00:00.000Z" itemprop="datePublished">2011-02-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/02/16/php-smarty-cache-operation/">php,smarty 缓存操作</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>一、使用缓存   <br>要开启smarty的缓存,只需将caching设为true,并指定cache_dir即可.    <br>使用cache_lefetime指定缓存生存时间,单位为秒    <br>要对相同页面生成多个不同的缓存,在display或fetch中加入第二参数cache_id,如$smarty-&gt;display(‘index.tpl’,$my_cache_id);此特性可用于对不同的$_GET进行不同的缓存    <br>二、清除缓存  clear_all_cache();//清除所有缓存   <br>clear_cache(‘index.tpl’);//清除index.tpl的缓存    <br>clear_cache(‘index.tpl’,cache_id);//清除指定id的缓存  三、使用自定义缓存方式  设置cache_handler_func使用自定义的函数处理缓存   <br>如:    <br>$smarty-&gt;cache_handler_func = “myCache”;    <br>function myCache($action, &amp;$smarty_obj, &amp;$cache_content, $tpl_file=null, $cache_id=null, $compile_id=null){    <br>}    <br>该函数的一般是根椐$action来判断缓存当前操作:    <br>switch($action){    <br>case “read”://读取缓存内容    <br>case “write”://写入缓存    <br>case “clear”://清空    <br>}    <br>一般使用md5($tpl_file.$cache_id.$compile_id)作为唯一的cache_id    <br>如果需要,可使用gzcompress和gzuncompress来压缩和解压
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/smarty/">smarty</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/web/">web</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2011/02/16/php-smarty-cache-operation/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-how-to-determine-whether-a-site-is-the-wall" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2011/02/16/how-to-determine-whether-a-site-is-the-wall/" class="article-date">
  	<time datetime="2011-02-15T16:00:00.000Z" itemprop="datePublished">2011-02-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/02/16/how-to-determine-whether-a-site-is-the-wall/">如何判断一个网站是否被墙</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>大家都知道GFW 平日作恶多端，一旦有网站不能访问，很多人都把矛头直指它了…. 虽然一般都是它干的，但实际上也不排除一些人别有用心…. 那么下面就来简单判断一下吧…  方法是用windows的tracert（<strong>打开命令提示符，输入tracert 域名</strong>）命令追踪路由，也可以直接用<a href="http://tool.chinaz.com/Tracert/">http://tool.chinaz.com/Tracert/</a>， 这个能显示ip所在地理位置，比windows自带的好。一般来说，无论是被GFW屏蔽的还是网站封IP的，我们总是能查到这个网站的IP地址，比如 Facebook，因为域名指向的ip是域名注册机构的dns服务器保留的，一般不会被封，所以，使用tracert命令就可以追踪路由了。
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gfw/">gfw</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/web/">web</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2011/02/16/how-to-determine-whether-a-site-is-the-wall/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/7/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/9/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 Dray
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>